<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>BingBlitz</title>
  </head>
  <body>
    <div>
      <body class="dark:bg-slate-800 dark:text-white">
        <div class="flex" id="content">
          <div class="m-auto text-center">
            <div class="mb-10">
              <div class="text-5xl my-3 font-bold">BingBlitzâš¡</div>
              <div class="text-sm">
                Multiply your search power - with BingBlitz!
              </div>
            </div>
            <div class="my-3">
              <!-- input field to get the no. of searches to perform -->
              <div>
                <input
                  type="number"
                  id="searches"
                  class="mx-auto w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  placeholder="Enter no. of searches to perform"
                />
              </div>
              <button
                id="btn"
                class="my-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
              >
                Go!
              </button>
              <div class="text-xs text-gray-500 dark:text-gray-300">
                Ensure that you have allowed pop-ups and redirects from this
                site
              </div>
            </div>
          </div>
        </div>
        <!-- footer with link to github -->
        <div class="text-sm">
          <div>
            <a href="https://github.com/pragadeshbs/BingBlitz" target="_blank">
              <div class="mr-4 flex flex-row-reverse">
                <div class="self-center">Source</div>
                <div>
                  <img
                    src="github.png"
                    width="25px"
                    alt="github"
                    class="inline-block"
                  />
                </div>
              </div>
            </a>
          </div>
        </div>
      </body>
    </div>
    <script>
      // get the button
      const btn = document.getElementById("btn");
      // add event listener to the button
      btn.addEventListener("click", () => {
        // get the search count
        const searches = document.getElementById("searches").value;
        // check if the search count is valid
        if (searches > 0 && searches <= 20) {
          // loop through the search count
          for (let i = 0; i < searches; i++) {
            // create a link
            let num = Math.floor(Math.random() * 99999999);
            const a = document.createElement("a");
            a.href = "https://www.bing.com/search?q=" + num;
            a.referrerPolicy = "no-referrer";
            a.textContent = num;
            a.target = "_blank";
            const div = document.createElement("div");
            div.append(a);
            document.body.append(div);
            a.click();
            div.style.display = "none";
          }
        } else {
          alert("Please enter a valid search count");
        }
      });
    </script>
  </body>
</html>
